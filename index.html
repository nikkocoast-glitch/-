<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>七夕小互动</title>

  <!-- PWA 清单（确保仓库根目录有 manifest.webmanifest） -->
  <link rel="manifest" href="/manifest.webmanifest">

  <!-- 图标（可选，浏览器使用） -->
  <link rel="icon" href="/icons/icon-192.png" sizes="192x192" type="image/png">

  <!-- 引用你的样式（如果路径不一样请改成实际文件名） -->
  <link rel="stylesheet" href="/styles.css">

  <!-- 防止缓存问题（可选） -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
</head>
<body>
  <!-- 你的页面主体（这里放原来 index.html 的主要内容或保留最小占位） -->
  <main>
    <h1>七夕小互动</h1>
    <p>点击宝箱 3 次解锁惊喜！</p>
    <!-- 如果你有原来的 HTML 内容，把它粘回这里。 -->
  </main>

  <!-- 引用你的主脚本（如果文件名是 app.js 或其他，按实际改） -->
  <script src="/app.js" defer></script>

  <!-- Service Worker 注册（先尝试 /service-worker.js，失败再尝试 /sw.js） -->
  <script>
    (function(){
      if (!('serviceWorker' in navigator)) return;
      // 尝试先注册 /service-worker.js；若失败则尝试 /sw.js（兼容你可能已有的 sw 文件名）
      navigator.serviceWorker.register('/service-worker.js')
        .then(reg => console.log('Service Worker registered at /service-worker.js', reg))
        .catch(err1 => {
          console.warn('Register /service-worker.js failed, trying /sw.js', err1);
          navigator.serviceWorker.register('/sw.js')
            .then(reg => console.log('Service Worker registered at /sw.js', reg))
            .catch(err2 => console.error('Service Worker registration failed for both:', err2));
        });
    })();
  </script>
</body>
</html>
